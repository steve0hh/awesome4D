<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title></title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="js/bootstrap.min.css">
    <style type="text/css" media="all">
      .panel-body{
        text-align: center;
      }
      .list-inline > li{
        font-size:2em;
        padding-right: 30px;
        padding-left: 30px;
      }
    </style>

    <meta http-equiv="refresh" content="30">

  </head>
  <body>
    <center>
      <h1 id="date">Hello, world!</h1>
    </center>
    <div class="row">
      <div class="col-md-4">
        <div class="panel panel-primary">
          <div class="panel-heading">
            <h1 class="panel-title">1st prize</h1>
          </div> <!-- panel-heading -->
          <div class="panel-body">
            <h1 id="first">helloworld</h1>
          </div> <!-- /.panel-body -->
        </div> <!-- /.panel .panel-primary -->
      </div> <!-- .col-md-4 -->
      <div class="col-md-4">
        <div class="panel panel-primary">
          <div class="panel-heading">
            <h1 class="panel-title">2nd prize</h1>
          </div> <!-- panel-heading -->
          <div class="panel-body">
            <h1 id="second">helloworld</h1>
          </div> <!-- /.panel-body -->
        </div> <!-- /.panel .panel-primary -->
      </div> <!-- .col-md-4 -->

      <div class="col-md-4">
        <div class="panel panel-primary">
          <div class="panel-heading">
            <h1 class="panel-title">3rd prize</h1>
          </div> <!-- panel-heading -->
          <div class="panel-body">
            <h1 id="third">helloworld</h1>
          </div> <!-- /.panel-body -->
        </div> <!-- /.panel .panel-primary -->
      </div> <!-- .col-md-4 -->
    </div> <!-- /.row -->

    <div class="panel panel-success">
      <div class="panel-heading">
        <h1 class="panel-title">Starters</h1>
      </div> <!-- panel-heading -->
      <div class="panel-body">
        <ul class="list-inline" id="starters">
        </ul>
      </div> <!-- /.panel-body -->
    </div> <!-- /.panel .panel-success -->

    <div class="panel panel-info">
      <div class="panel-heading">
        <h1 class="panel-title">Consolation</h1>
      </div> <!-- panel-heading -->
      <div class="panel-body">
        <ul class="list-inline" id="consolation">
        </ul>
      </div> <!-- /.panel-body -->
    </div> <!-- /.panel .panel-info -->
    <!-- jquery -->
    <script src="js/jquery.min.js"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <script type="text/javascript" charset="utf-8">
      $.ajax({
        type: "GET",
        url: "http://www25.ownskin.com/live4d/api/4d/api_4d_ilive.asp",
        success: function(xml) {
          $xml = $( xml );
          $result = $xml.find('result');
          var dateRaw = $result.find('date').text(); // get date
          var firstPrice = $result.find('first').text(); // get first price numbers
          var secondPrice = $result.find('second').text(); // get second price numbers
          var thirdPrice = $result.find('third').text(); // get third price numbers

          var date = parseDate(dateRaw);
          var dd = date.getDate();
          var yyyy = date.getFullYear();
          var mm = date.getMonth()+1; //January is 0!
          if(dd<10){dd='0'+dd} if(mm<10){mm='0'+mm} var date = dd+'/'+mm+'/'+yyyy;

          $( "#date" ).text("Results for: "+date);
          $( "#first" ).text(firstPrice);
          $( "#second" ).text(secondPrice);
          $( "#third" ).text(thirdPrice);

          $result.find("starter").children().each(function(){
            var text = $(this).text();
            $( "#starters" ).append("<li>"+text+"</li>");
          });
          $result.find("consola").children().each(function(){
            var text = $(this).text();
            $( "#consolation" ).append("<li>"+text+"</li>");
          });
        }
      });
      function parseDate(input) {
        var parts = [];
        parts[0] = input.substring(0,4);
        parts[1] = input.substring(4,6);
        parts[2] = input.substring(6,8);
        return new Date(parts[0], parts[1]-1, parts[2]); // months are 0-based
      }
    </script>
  </body>
</html>
